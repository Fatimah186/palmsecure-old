<!-- studentprofile.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="studentprofile.css">
    <title>Student Profile</title>
</head>
<body>
    <div id="studentDetails">
        <p>Name: <span id="name"></span></p>
        <p>Year: <span id="year"></span></p>
        <p>Department: <span id="department"></span></p>
        <p>Register Number: <span id="regNumber"></span></p>
        <p>Phone Number: <span id="phone"></span></p>
        <p>Email: <span id="email"></span></p>
    </div>

    <script src="https://www.gstatic.com/firebasejs/8.2.9/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.9/firebase-database.js"></script>
    <script>
        var firebaseConfig = {
            apiKey: "AIzaSyAk0foljioWF7Yde0GihotbmzW_bUxLPlw",
      authDomain: "registrationform-e4460.firebaseapp.com",
      databaseURL: "https://registrationform-e4460-default-rtdb.firebaseio.com",
      projectId: "registrationform-e4460",
      storageBucket: "registrationform-e4460.appspot.com",
      messagingSenderId: "899025377950",
      appId: "1:899025377950:web:d9d3fb4b97edb022aab98f",
      measurementId: "G-HJPSD2JERL"
        };
        
        firebase.initializeApp(firebaseConfig);

        // Get a reference to the database
        var database = firebase.database();

        // Extract the student's key from the URL
        const urlParams = new URLSearchParams(window.location.search);
        const studentKey = urlParams.get("key");
        const email = urlParams.get("email");

        // Fetch the student's details from the database
        database.ref('students').child(studentKey).once('value', (snapshot) => {
            const student = snapshot.val();
            if (student) {
                // Display the student's details on the page
                document.getElementById("name").textContent = student.name;
                document.getElementById("year").textContent = student.year;
                document.getElementById("department").textContent = student.department;
                document.getElementById("regNumber").textContent = student.regNumber;
                document.getElementById("phone").textContent = student.phone;
                document.getElementById("email").textContent = student.email;
                // You might want to avoid displaying the password for security reasons
            }
        });
    </script>
</body>
</html>
